<!DOCTYPE html>
<html lang="en">
<head>
<title>Generate Patient IHI Numbers</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="content-type" content="text/html">
<meta charset="utf-8">
</head>
<body onload="makePatientIHInumbers()">
<h1>Generate Patient IHI Numbers</h1>

<table>
	<tr><th>Patient IHI Numbers</th></tr>
	<tr><td id="0"></td></tr>
	<tr><td id="1"></td></tr>
	<tr><td id="2"></td></tr>
	<tr><td id="3"></td></tr>
	<tr><td id="4"></td></tr>
	<tr><td id="5"></td></tr>
	<tr><td id="6"></td></tr>
	<tr><td id="7"></td></tr>
	<tr><td id="8"></td></tr>
	<tr><td id="9"></td></tr>
</table>

<script>


function makePatientIHInumbers() {
	for (var id = 0; id < 10; id++) {
		var IHIstring = "80036099";
		var IHInumber = Math.random() * 10000000;
		IHInumber = Math.trunc(IHInumber);
		var numberString = "0000000" + IHInumber.toString();
		IHIstring += numberString.slice(-7);
		var thisSum = 0;
		for(var i = 14; i > -1; i -= 2) {
			digit = parseInt(IHIstring.substring(i, i + 1)) * 2;
			thisSum += Math.trunc(digit / 10);
			thisSum += digit  % 10;
		}
		for(var i = 13; i > -1; i -=  2) {
			digit = parseInt(IHIstring.substring(i, i + 1));
			thisSum += digit;
		}
		checkSum = ((thisSum * 9) % 10);
		IHIstring += checkSum.toString();
		var id = id.toString();
		document.getElementById(id).innerHTML = IHIstring;
	}
}



</script>

</body>
</html>
